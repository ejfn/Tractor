# v1.0 Release Implementation Plan

**Issue Reference:** [#121 - Prepare release artifacts for v1.0](https://github.com/ejfn/Tractor/issues/121)

**Goal:** Complete all necessary artifacts and configurations for v1.0 release of Tractor mobile game.

## Progress Summary

### ‚úÖ Completed Phases
- **Phase 1**: Visual Assets & App Icons (100%)
- **Phase 2**: Build Configuration (100%)  
- **Phase 3**: Version & Metadata Management (100%)
- **Phase 5.2**: Distribution & Update Strategy Setup (100%)

### üöß Remaining Tasks
- **Phase 4**: Quality Assurance & Testing (APK build testing, performance testing, UX testing)
- **Phase 5.1**: User Documentation (README updates, installation guide, release notes)

## Phase 1: Visual Assets & App Icons (Priority: High)

### 1.1 App Icon Design & Creation
- **Status**: ‚úÖ Completed
- **Effort**: 2-3 hours
- **Dependencies**: None

**Tasks:**
- [x] Design app icon concept (Tractor/ÂçáÁ∫ß theme)
- [x] Create base icon in high resolution (1024x1024px)
- [x] Generate Android icon sizes:
  - `assets/images/android_icons/ic_launcher_48.png` (48x48dp)
  - `assets/images/android_icons/ic_launcher_72.png` (72x72dp) 
  - `assets/images/android_icons/ic_launcher_96.png` (96x96dp)
  - `assets/images/android_icons/ic_launcher_144.png` (144x144dp)
  - `assets/images/android_icons/ic_launcher_192.png` (192x192dp)

### 1.2 Adaptive Icon Implementation
- **Status**: ‚úÖ Completed
- **Effort**: 1-2 hours
- **Dependencies**: 1.1 completed

**Tasks:**
- [x] Create adaptive icon foreground layer
- [x] Create adaptive icon background layer
- [x] Update `assets/images/adaptive-icon.png`
- [x] Test adaptive icon on Android 8.0+ devices
- [x] Verify icon displays correctly in launchers

### 1.3 Expo Asset Updates
- **Status**: ‚úÖ Completed
- **Effort**: 30 minutes
- **Dependencies**: 1.1, 1.2 completed

**Tasks:**
- [x] Update `assets/images/icon.png` (1024x1024)
- [x] Update `assets/images/favicon.png` (if used)
- [x] Verify `assets/images/splash-icon.png` is appropriate
- [x] Test assets load correctly in development

## Phase 2: Build Configuration (Priority: High)

### 2.1 EAS Build & Update Configuration
- **Status**: ‚úÖ Completed
- **Effort**: 2-3 hours
- **Dependencies**: None

**Tasks:**
- [x] Review current `eas.json` configuration
- [x] Configure single-channel production build profile:
  ```json
  {
    "build": {
      "production": {
        "channel": "production",
        "android": {
          "buildType": "apk",
          "gradleCommand": ":app:assembleRelease"
        }
      }
    }
  }
  ```
- [x] Configure app signing for release builds
- [x] Set up EAS Updates for OTA capability
- [x] Set up environment variables for production

### 2.2 App Configuration Updates
- **Status**: ‚úÖ Completed
- **Effort**: 1 hour
- **Dependencies**: None

**Tasks:**
- [x] Update `app.json` with production settings:
  - Set proper `android.package` (`com.cardgame.tractor`)
  - Configure `android.versionCode: 1` (will stay 1 for all 1.0.x releases)
  - Set `android.permissions` appropriately
  - Configure `android.adaptiveIcon`
  - Configure EAS Updates: `"runtimeVersion": {"policy": "appVersion"}`
  - Set updates channel: `"updates": {"url": "...", "requestHeaders": {"expo-channel-name": "production"}}`
- [x] Verify `expo.name` and `expo.slug` are correct
- [x] Set appropriate `expo.version` (1.0.0)

### 2.3 Build Optimization
- **Status**: ‚úÖ Completed
- **Effort**: 2-3 hours
- **Dependencies**: 2.1, 2.2 completed

**Tasks:**
- [x] Configure minification/obfuscation settings
- [x] Test APK size optimization
- [x] Review and remove unused dependencies from production build
- [x] Configure ProGuard rules in app.json
- [x] Configure Metro bundler for production optimization

## Phase 3: Version & Metadata Management (Priority: Medium)

### 3.1 Version Configuration & OTA Strategy
- **Status**: ‚úÖ Completed
- **Effort**: 1 hour
- **Dependencies**: None

**Tasks:**
- [x] Update `package.json` version to `1.0.0`
- [x] Set `app.json` version to `1.0.0`
- [x] Configure `android.versionCode` to `1`
- [x] Document versioning strategy:
  - 1.0.x patches ‚Üí OTA updates (same versionCode: 1)
  - 1.1.x minor ‚Üí New APK (bump versionCode: 2)
  - Users automatically get 1.0.x patches, must manually install 1.1.x
- [x] Update any version references in documentation

### 3.2 App Metadata
- **Status**: ‚úÖ Completed
- **Effort**: 1 hour
- **Dependencies**: None

**Tasks:**
- [x] Finalize app description in `app.json`
- [x] Set appropriate Android permissions
- [x] Configure app categories and metadata
- [x] Review privacy policy requirements (minimal permissions needed)

## Phase 4: Quality Assurance & Testing (Priority: High)

### 4.1 APK Build Testing
- **Status**: üî≤ Not Started
- **Effort**: 2-3 hours
- **Dependencies**: Phase 2 completed

**Tasks:**
- [ ] Generate production APK using EAS Build
- [ ] Test APK installation on multiple Android devices:
  - Android 8.0+ (API 26+)
  - Different screen sizes (phone/tablet)
  - Different manufacturers (Samsung, Google, etc.)
- [ ] Verify app icon displays correctly
- [ ] Test core game functionality in production build

### 4.2 Performance & Compatibility Testing
- **Status**: üî≤ Not Started
- **Effort**: 3-4 hours
- **Dependencies**: 4.1 completed

**Tasks:**
- [ ] Test on low-end Android devices (2GB RAM, older CPUs)
- [ ] Verify game performance and frame rates
- [ ] Test offline functionality (no internet required)
- [ ] Memory usage testing during extended play
- [ ] Battery usage optimization verification

### 4.3 User Experience Testing
- **Status**: üî≤ Not Started
- **Effort**: 2-3 hours
- **Dependencies**: 4.1 completed

**Tasks:**
- [ ] Complete game walkthrough testing
- [ ] Test all game phases (dealing, playing, scoring)
- [ ] Verify AI behavior is appropriate for v1.0
- [ ] Test edge cases and error handling
- [ ] Validate user interface on different screen sizes

## Phase 5: Documentation & Distribution (Priority: Medium)

### 5.1 User Documentation
- **Status**: üî≤ Not Started
- **Effort**: 2-3 hours
- **Dependencies**: Phase 4 completed

**Tasks:**
- [ ] Update README.md with v1.0 release information
- [ ] Create installation guide for end users
- [ ] Document system requirements
- [ ] Prepare changelog/release notes for v1.0
- [ ] Create basic user guide (if needed)

### 5.2 Distribution & Update Strategy Setup
- **Status**: ‚úÖ Completed
- **Effort**: 1-2 hours
- **Dependencies**: 5.1 completed

**Tasks:**
- [x] Set up GitHub Actions workflow for automated APK builds
- [x] Configure automated release asset upload (APK, changelog)
- [x] Configure release description and metadata
- [x] Document update strategy for users:
  - Initial install: Download v1.0.0 APK from GitHub Release
  - Patch updates: Automatic via OTA (1.0.1, 1.0.2, etc.)
  - Major updates: Manual APK install (1.1.0, 2.0.0, etc.)
- [x] Set up automated OTA update workflow via GitHub Actions

## Implementation Timeline

### Week 1: Core Assets & Configuration
- **Day 1-2**: Phase 1 (Visual Assets & App Icons)
- **Day 3-4**: Phase 2 (Build Configuration)
- **Day 5**: Phase 3 (Version & Metadata)

### Week 2: Testing & Release
- **Day 1-3**: Phase 4 (Quality Assurance & Testing)
- **Day 4-5**: Phase 5 (Documentation & Distribution)

## Technical Considerations

### Current Project Status
- **Platform**: React Native 0.76+ with Expo SDK 52
- **Target**: Android (iOS testing needed for future releases)
- **Architecture**: Mobile-only, offline-capable game
- **AI System**: 4-phase intelligence (production-ready)
- **Test Coverage**: 526 tests passing

### Build Requirements
- **Minimum Android**: API 26 (Android 8.0)
- **Target Android**: API 34 (Android 14)
- **Architecture**: ARM64-v8a, ARM32 (armeabi-v7a)
- **Permissions**: Minimal (no network, location, etc.)

### Versioning & Update Strategy
- **Single Channel**: `production` (simplified management)
- **Version Pattern**: `versionName` (user-visible) vs `versionCode` (store version)
- **OTA Updates**: For patches within same `versionCode` (1.0.x)
- **APK Updates**: For minor/major releases (1.1.x, 2.x.x)
- **Migration**: Old app users automatically get patches, manually upgrade for major versions

### Release Criteria
- [ ] APK builds successfully via EAS
- [ ] App installs and runs on target Android versions
- [ ] Core game functionality works offline
- [ ] Performance is acceptable on mid-range devices
- [ ] App icon displays correctly across launchers
- [ ] No critical bugs in core gameplay

## Risk Assessment

### High Risk
- **EAS Build Configuration**: Complex setup, potential signing issues
- **App Icon Compatibility**: Different Android versions handle icons differently
- **Performance on Low-End Devices**: Game may be resource-intensive

### Medium Risk
- **APK Size**: Bundle size optimization needed
- **Device Compatibility**: Wide range of Android devices to support

### Low Risk
- **Documentation**: Straightforward content creation
- **Version Management**: Simple configuration updates

## Success Metrics

- [ ] **Technical**: APK builds, installs, and runs without crashes
- [ ] **Performance**: Game maintains 60fps on target devices
- [ ] **Compatibility**: Works on Android 8.0+ devices
- [ ] **User Experience**: Complete game sessions work as expected
- [ ] **Distribution**: Ready for GitHub Release publication

## Update Workflow Examples

### For Patch Releases (1.0.x ‚Üí OTA):
```bash
# 1. Update version (keep versionCode: 1)
npm version patch  # 1.0.0 ‚Üí 1.0.1

# 2. Push OTA update to production channel
npx eas update --channel production --message "Bug fixes for v1.0.1"

# 3. All 1.0.x users automatically receive update
```

### For Minor Releases (1.1.x ‚Üí APK):
```bash
# 1. Update version and bump versionCode (1 ‚Üí 2)
npm version minor  # 1.0.x ‚Üí 1.1.0
# Update app.json: "versionCode": 2

# 2. Build new APK
npx eas build --platform android --profile production

# 3. Create GitHub Release with new APK
# 4. Users must manually install to get 1.1.x features
```

## Notes

- This plan assumes current codebase is stable and ready for v1.0
- iOS support can be added in future releases (v1.1+)
- Consider beta testing phase before public v1.0 release
- GitHub Releases provides good distribution method for initial release
- Single-channel strategy ensures all users eventually get latest updates
- Future releases may consider Google Play Store distribution

---

**Next Steps:** Start with Phase 1 (Visual Assets) as it's independent and sets foundation for other phases.